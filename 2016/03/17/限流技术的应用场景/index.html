<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>限流技术的应用场景 | Applied Research. Big Data. Distributed Systems. Open Source.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="业务场景 淘宝双十一 如果你在双十一0点0分之后，购物的时候遇到这个页面，那么亲，你被限流了，必须排到等待">
<meta name="keywords" content="限流">
<meta property="og:type" content="article">
<meta property="og:title" content="限流技术的应用场景">
<meta property="og:url" content="https://nereuschen.github.io/2016/03/17/限流技术的应用场景/index.html">
<meta property="og:site_name" content="Applied Research. Big Data. Distributed Systems. Open Source.">
<meta property="og:description" content="业务场景 淘宝双十一 如果你在双十一0点0分之后，购物的时候遇到这个页面，那么亲，你被限流了，必须排到等待">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://img3.tbcdn.cn/5476e8b07b923/TB1S0YoJVXXXXaVXXXXXXXXXXXX">
<meta property="og:image" content="http://img3.tbcdn.cn/5476e8b07b923/TB102reJVXXXXbXXpXXXXXXXXXX">
<meta property="og:image" content="http://img3.tbcdn.cn/5476e8b07b923/TB1gsqUJVXXXXcyXFXXXXXXXXXX">
<meta property="og:image" content="http://img3.tbcdn.cn/5476e8b07b923/TB1pMjsJVXXXXX0XXXXXXXXXXXX">
<meta property="og:updated_time" content="2017-08-14T01:54:56.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="限流技术的应用场景">
<meta name="twitter:description" content="业务场景 淘宝双十一 如果你在双十一0点0分之后，购物的时候遇到这个页面，那么亲，你被限流了，必须排到等待">
<meta name="twitter:image" content="http://img3.tbcdn.cn/5476e8b07b923/TB1S0YoJVXXXXaVXXXXXXXXXXXX">
  
    <link rel="alternate" href="/atom.xml" title="Applied Research. Big Data. Distributed Systems. Open Source." type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">

  


  <link href="//cdn.staticfile.org/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">
  
  <link rel="stylesheet" href="//libs.cncdn.cn/fancybox/2.1.5/jquery.fancybox.css" media="screen" type="text/css">
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" media="screen" type="text/css">

  <style type="text/css">
    .news-essay
    {
      display: inline !important;
    }
    .hot-news
    {
      text-align: left !important;
    }
  </style>

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h2 id="logo-wrap"  class="animated bounceInLeft">
        <a href="/" id="logo">Applied Research. Big Data. Distributed Systems. Open Source.</a>
      </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://nereuschen.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-限流技术的应用场景" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/17/限流技术的应用场景/" class="article-date">
  <time datetime="2016-03-17T10:32:01.000Z" itemprop="datePublished">2016-03-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/分布式/">分布式</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      限流技术的应用场景
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="业务场景">业务场景</h2>
<h3 id="淘宝双十一">淘宝双十一</h3>
<p>如果你在双十一0点0分之后，购物的时候遇到这个页面，那么亲，你被限流了，必须排到等待</p>
<a id="more"></a>
<p><img src="http://img3.tbcdn.cn/5476e8b07b923/TB1S0YoJVXXXXaVXXXXXXXXXXXX" alt="天猫限流"></p>
<h4 id="用户洪峰">用户洪峰</h4>
<p>特点：</p>
<ul>
<li>允许访问的速率</li>
<li>爆发量</li>
<li>爆发间隔时间</li>
</ul>
<p>为了提升用户体验，需要支持爆发量，所以采用令牌桶算法</p>
<p><img src="http://img3.tbcdn.cn/5476e8b07b923/TB102reJVXXXXbXXpXXXXXXXXXX" alt="令牌桶算法"></p>
<p>允许最大的访问速率：b+r<br>
爆发持续时间：T=b/(m-2r)<br>
爆发量：L=T*r</p>
<h4 id="回调洪峰">回调洪峰</h4>
<p>特点：</p>
<ul>
<li>有间隔频率</li>
<li>每次调用量大</li>
<li>允许有延时</li>
</ul>
<p>采用漏桶算法</p>
<p><img src="http://img3.tbcdn.cn/5476e8b07b923/TB1gsqUJVXXXXcyXFXXXXXXXXXX" alt="漏桶算法"></p>
<h4 id="限流框架">限流框架</h4>
<p>分成几个主要模块</p>
<ul>
<li>
<p>监控模块</p>
<p>收集数据、实时监控和反馈分析</p>
</li>
<li>
<p>决策模块</p>
<p>什么场景使用什么限流方式；比如，用户洪峰采用令牌桶算法，</p>
<p>系统回调使用漏桶算法</p>
</li>
<li>
<p>规则变更模块</p>
<p>动态调整令牌桶容量和产生令牌的速率</p>
</li>
<li>
<p>限流模块</p>
<p>如何处理被限流的请求，是排队还是丢弃</p>
</li>
</ul>
<p>限流框架的处理流程</p>
<p><img src="http://img3.tbcdn.cn/5476e8b07b923/TB1pMjsJVXXXXX0XXXXXXXXXXXX" alt="处理流程"></p>
<h3 id="小米秒杀">小米秒杀</h3>
<p>TODO</p>
<h2 id="分层架构">分层架构</h2>
<h2 id="nginx限流">Nginx限流</h2>
<h3 id="nginx限流模块">Nginx限流模块</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">vi /etc/nginx/conf.d/default.conf</div><div class="line"></div><div class="line">......</div><div class="line"></div><div class="line">upstream myapp &#123;</div><div class="line">    server 127.0.0.1:8081;</div><div class="line">&#125;</div><div class="line"></div><div class="line">limit_req_zone <span class="variable">$binary_remote_addr</span> zone=login:10m rate=10r/s;</div><div class="line"></div><div class="line">server &#123;</div><div class="line">    server_name _;</div><div class="line">  </div><div class="line">    location / &#123;</div><div class="line">        proxy_pass http://myapp;</div><div class="line">        proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</div><div class="line">        proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</div><div class="line">        proxy_set_header Host <span class="variable">$http_host</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    location /account/login/ &#123;</div><div class="line">        <span class="comment"># apply rate limiting</span></div><div class="line">        limit_req zone=login burst=5 nodelay;</div><div class="line">    </div><div class="line">        <span class="comment"># boilerplate copied from location /</span></div><div class="line">        proxy_pass http://myapp;</div><div class="line">        proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</div><div class="line">        proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</div><div class="line">        proxy_set_header Host <span class="variable">$http_host</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>参数说明</p>
<ul>
<li>
<p>$binary_remote_addr</p>
<p>采用二进制表示访问的IP地址</p>
</li>
<li>
<p>zone=login:10m</p>
<p>表示定义了一个名为login的内存共享区，其占用内存大小为10M。</p>
<p>10M的内存可以存放16W个二进制表示的IP地址。</p>
</li>
<li>
<p>rate=1r/s</p>
<p>就是QPS；对同一个IP地址而言，速率被限制为每秒1次请求</p>
</li>
<li>
<p>burst</p>
<p>如果同一个IP访问的请求超过rate后，没有超过桶上限burst的请求会被放入桶中，等待被处理。</p>
<p>这个例子中桶的容量是5。</p>
</li>
<li>
<p>nodelay</p>
<p>单个IP的在某时间段内平均QPS未超过设定的rate，那么桶中的请求会立即被处理，</p>
<p>此时的瞬间QPS高于设定的rate；如果在某时间段内平均的QPS超过rate，那么超过</p>
<p>rate的请求会直接被拒绝，直接返回503</p>
</li>
</ul>
<p>从示例配置信息中可以看出：</p>
<p>对访问/account/login/的请求根据访问的IP进行了限速，QPS是10；</p>
<p>对于同一个IP地址只允许每秒10个请求访问该URL；</p>
<p>如果请求量大于QPS(10)，会立即返回503（因为配置了参数nodelay）；</p>
<p>如果没有配置参数nodelay，那么超过QPS访问量的请求会先积压到桶中(可以积压5个)，</p>
<p>如果桶满了，就返回503。</p>
<blockquote></blockquote>
<p>nginx限流模块默认使用的是漏桶算法，而当配置了nodelay时采用的是令牌算法，此时允许burst请求</p>
<p>重点说明一下对burst+nodelay的理解</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">limit_req_zone <span class="variable">$binary_remote_addr</span> zone=login:10m rate=1r/s;</div><div class="line"></div><div class="line">......</div><div class="line"></div><div class="line"> location /account/login/ &#123;</div><div class="line">        <span class="comment"># apply rate limiting</span></div><div class="line">        limit_req zone=login burst=15 nodelay;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">时间点</th>
<th style="text-align:center">并发请求量</th>
<th style="text-align:center">拒绝的请求次数</th>
<th style="text-align:center">成功的请求次数</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">10:00:01</td>
<td style="text-align:center">15</td>
<td style="text-align:center">0</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">10:00:15</td>
<td style="text-align:center">15</td>
<td style="text-align:center">0</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">10:00:30</td>
<td style="text-align:center">15</td>
<td style="text-align:center">0</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">10:00:45</td>
<td style="text-align:center">15</td>
<td style="text-align:center">0</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">11:00:01</td>
<td style="text-align:center">15</td>
<td style="text-align:center">0</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">11:00:02</td>
<td style="text-align:center">15</td>
<td style="text-align:center">14</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">11:00:03</td>
<td style="text-align:center">15</td>
<td style="text-align:center">14</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">11:00:04</td>
<td style="text-align:center">15</td>
<td style="text-align:center">14</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<p>针对这个case的理解:</p>
<p>（1）在[10:00:01到10:00:45]期间，每隔15秒会有15个并发请求，虽然在这些时间点上并发</p>
<p>请求大于rate，但在每个15秒内其QPS是1，依旧未超过rate，所以每次的15个并发请求能够</p>
<p>被成功处理</p>
<p>（2）在[11:00:01到11:00:05]期间，每秒15个并发请求，在11:00:01时，请求量未超过burst，</p>
<p>并且由于配置了nodelay，所以当时15个请求立即被执行了；而在其他的时间点上QPS大于</p>
<p>rate，所以超出rate的请求直接被拒绝</p>
<h3 id="nginx-lua">Nginx+lua</h3>
<h3 id="redis">REDIS</h3>
<p><a href="http://redis.io/commands/INCR#pattern-rate-limiter" target="_blank" rel="external">http://redis.io/commands/INCR#pattern-rate-limiter</a><br>
<a href="https://github.com/UsedRarely/spring-rate-limit" target="_blank" rel="external">https://github.com/UsedRarely/spring-rate-limit</a><br>
<a href="https://github.com/colley/spring-ratelimiter" target="_blank" rel="external">https://github.com/colley/spring-ratelimiter</a><br>
<a href="https://github.com/nlap/dropwizard-ratelimit" target="_blank" rel="external">https://github.com/nlap/dropwizard-ratelimit</a><br>
<a href="https://github.com/sudohippie/throttle" target="_blank" rel="external">https://github.com/sudohippie/throttle</a><br>
<a href="https://github.com/coveo/spillway" target="_blank" rel="external">https://github.com/coveo/spillway</a><br>
<a href="https://github.com/marcosbarbero/spring-cloud-starter-zuul-ratelimit" target="_blank" rel="external">https://github.com/marcosbarbero/spring-cloud-starter-zuul-ratelimit</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/20872901" target="_blank" rel="external">API 调用次数限制实现</a></p>
<p><a href="https://github.com/jabley/rate-limit" target="_blank" rel="external">Java Rate-Limiting API</a></p>
<h3 id="zk">ZK</h3>
<p><a href="http://curator.apache.org/curator-recipes/distributed-atomic-long.html" target="_blank" rel="external">Distributed Atomic Long</a></p>
<p><a href="http://curator.apache.org/curator-recipes/shared-semaphore.html" target="_blank" rel="external">Shared Semaphore</a></p>
<h2 id="http-dubbo-mq">HTTP&amp;DUBBO&amp;MQ</h2>
<p>filter+</p>
<h2 id="db">DB</h2>
<h3 id="淘宝双十一秒杀业务">淘宝双十一秒杀业务</h3>
<p>秒杀特点：瞬时并发高、数据一致性高、热点更新频率高</p>
<p>大量更新DB中的同一条记录时，会产生锁等待，导致DB性能急剧下降</p>
<p>当大量的并发更新同一条记录时，使用排队的方式来保证高并发下热点记录更新依然能保持</p>
<p>较好的性能，为threads_running设置一个硬上线，当并发超过此值是，拒绝执行sql，</p>
<p>保护MySQL，我们将这个称之为高水位限流，这样就给数据库加上了一层限流的功能，使得</p>
<p>数据库不被瞬间的高爆发请求打爆。</p>
<p>高水位限流实现：</p>
<p>监控系统status变量threads_running，当满足拒绝条件，拒绝执行sql，返回用户：</p>
<p>MySQL Server is too busy，判断逻辑在dispatch_command中，sql解析之后。</p>
<p>增加的系统variables：</p>
<pre><code>  1.threads_running_ctl_mode： 限流的sql类型，有两个取值：[ALL | SELECTS]，
  
  默认SELECTS，设置为ALL需谨慎。
  
  2.threads_running_high_watermark： 限流水位值，只有threads_running
  
  超过此值才会触发，默认值为max_connections，当set global 
  
  threads_running_high_watermark=0时自动设置为max_connections
</code></pre>
<p>拒绝必要条件：</p>
<pre><code> 1.threads_running超过threads_running_high_watermark
 
 2.threads_running_ctl_mode与sql类型相符
</code></pre>
<p>以下情况不拒绝：</p>
<pre><code> 1.用户具有super权限
 
 2.sql所在事务已经开启
 
 3.sql为commit/rollback
</code></pre>
<h2 id="参考资料">参考资料</h2>
<p><a href="">阿里双11系统管控调度架构与实践.pdf</a></p>
<p><a href="http://nginx.org/en/docs/http/ngx_http_limit_req_module.html" target="_blank" rel="external">Nginx限流模块</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nereuschen.github.io/2016/03/17/限流技术的应用场景/" data-id="cj93uppel0019qcshk83siqdy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/限流/">限流</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/08/08/深入理解Kafka调优的核心参数/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          深入理解Kafka的核心调优参数
        
      </div>
    </a>
  
  
    <a href="/2016/03/06/限流技术的常见算法及其实现/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">限流技术的常见算法及其实现</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Troubleshooting/">Troubleshooting</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/分布式/">分布式</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/存储/">存储</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/性能优化/">性能优化</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BTrace/">BTrace</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/">Elasticsearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA/">JAVA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kafka/">Kafka</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sysbench/">sysbench</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/架构/">架构</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/火焰图/">火焰图</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/监控/">监控</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/限流/">限流</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/BTrace/" style="font-size: 10px;">BTrace</a> <a href="/tags/Elasticsearch/" style="font-size: 10px;">Elasticsearch</a> <a href="/tags/JAVA/" style="font-size: 10px;">JAVA</a> <a href="/tags/Kafka/" style="font-size: 20px;">Kafka</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/sysbench/" style="font-size: 10px;">sysbench</a> <a href="/tags/架构/" style="font-size: 10px;">架构</a> <a href="/tags/火焰图/" style="font-size: 10px;">火焰图</a> <a href="/tags/监控/" style="font-size: 10px;">监控</a> <a href="/tags/限流/" style="font-size: 15px;">限流</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">五月 2014</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/10/12/Java火焰图/">Java混合模型火焰图</a>
          </li>
        
          <li>
            <a href="/2017/09/18/Kafka高可靠场景下的性能表现/">Kafka高可靠场景下的性能表现</a>
          </li>
        
          <li>
            <a href="/2017/07/12/MySQL-CPU-sys飙高/">system cpu time飙高导致MySQL不可用</a>
          </li>
        
          <li>
            <a href="/2016/08/08/深入理解Kafka调优的核心参数/">深入理解Kafka的核心调优参数</a>
          </li>
        
          <li>
            <a href="/2016/03/17/限流技术的应用场景/">限流技术的应用场景</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 陈义<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="//cdn.staticfile.org/jquery/1.11.1/jquery.min.js"></script>
<script src="//cdn.bootcss.com/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>
<script src="//libs.cncdn.cn/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>
<script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.6.0-beta.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<div id="totop" style="position:fixed;bottom:150px;right:10px;cursor: pointer;z-index: 2000;">
  <a title="返回顶部"><img src="/images/scrollup.png"/></a>
</div>
<script src="/js/totop.js" type="text/javascript"></script>

  </div>
</body>
</html>